<ion-header>
  <ion-toolbar>
    <ion-title>Submitted Forms: {{ formInfo.formTitle }} </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="vert-spacing"> Showing {{ state}} forms. </div>


  <div *ngIf="!list || list.length == 0">
    There is no form to show here.
  </div>

  <ul class="list-group" *ngIf="list && list.length > 0">
    <div *ngFor="let item of list; let i=index">

      <!-- ngIf will skip placeHolder node if any

        1/2019: show only if
        item.state is undefined or
        item.state == state
      -->
      <li *ngIf="item.formName && isCorrectState(item.state)"
        class="list-group-item" >

        <!-- old site: /submittedForm/formName/formKey
        new site: /dsps-staff/form/view/:formName/:formId 
       -->
        <a
          [routerLink]="['', 'dsps-staff', 'form', 'view', formInfo.formName, item._id]">
          {{ getVal(item) }}
        </a>

      </li>
    </div> <!-- ngFor-->

  </ul>

  <!-- pagination -->
    <app-pagination
      [maxItems]="maxItems"
      [pageSize]="pageSize" >
    </app-pagination>

</ion-content>
