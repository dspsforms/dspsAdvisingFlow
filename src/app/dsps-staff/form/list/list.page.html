<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button menu="m1"></ion-menu-button>
    </ion-buttons> 
    <ion-title>Submitted Forms: {{ formInfo.formTitle }} </ion-title>
    <ion-buttons slot="primary">
      <ion-button  (click)="onCreateForm()">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="vert-spacing"> Showing {{ state}} forms. </div>


  <div *ngIf="!list || list.length == 0">
    There is no form to show here.
  </div>

  <!--  show only if
        item.state is undefined or
        item.state == state
  -->

  <ion-list *ngIf="list && list.length > 0">
    <div *ngFor="let item of list; let i=index">
      <ion-item *ngIf="item.formName && isCorrectState(item.state)">

        <!-- old site: /submittedForm/formName/formKey
          new site: /dsps-staff/form/view/:formName/:formId 
        -->
        <a
        [routerLink]="['', 'dsps-staff', 'form', 'view', formInfo.formName, item._id]">
        {{ getVal(item) }}
        </a>

      </ion-item>
    </div>
  </ion-list>

  

  <!-- pagination -->
    <app-pagination
      [maxItems]="maxItems"
      [pageSize]="pageSize" >
    </app-pagination>

</ion-content>
